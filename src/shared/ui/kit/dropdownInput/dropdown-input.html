<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dropdown Input Test</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        padding: 20px;
      }
      .dropdown-trigger {
        padding: 8px 16px;
        border: 1px solid #ccc;
        border-radius: 4px;
        cursor: pointer;
        display: inline-flex;
        align-items: center;
        gap: 8px;
      }
      .dropdown-content {
        position: absolute;
        background: white;
        border: 1px solid #ccc;
        border-radius: 4px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        z-index: 1000;
        min-width: 160px;
      }
      .dropdown-item {
        padding: 8px 16px;
        cursor: pointer;
      }
      .dropdown-item:hover {
        background-color: #f5f5f5;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>

    <script src="https://unpkg.com/react/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@radix-ui/react-dropdown-menu"></script>
    <script src="https://unpkg.com/babel-standalone/babel.min.js"></script>
    <script type="text/babel">
      const { useState } = React;

      function DropdownInput({
        items,
        value,
        onChange,
        renderItem,
        renderValue,
        className,
      }) {
        return (
          <div className="relative inline-block">
            <div
              className={`dropdown-trigger ${className} flex items-center gap-2`}
              onClick={() => {
                const content = document.getElementById(
                  `dropdown-content-${items}`,
                );
                content.style.display =
                  content.style.display === "block" ? "none" : "block";
              }}
            >
              {renderValue(value)}
              <span className="ml-auto">âŒ„</span>
            </div>
            <div
              id={`dropdown-content-${items}`}
              className="dropdown-content"
              style={{ display: "none", position: "absolute", top: "100%" }}
            >
              {items.map((item, index) => (
                <div
                  key={index}
                  className="dropdown-item"
                  onClick={() => {
                    onChange(item);
                    document.getElementById(
                      `dropdown-content-${items}`,
                    ).style.display = "none";
                  }}
                >
                  {renderItem(item)}
                </div>
              ))}
            </div>
          </div>
        );
      }

      const fruits = ["Apple", "Banana", "Cherry", "Date", "Elderberry"];

      function TestDropdownInput() {
        const [selectedFruit, setSelectedFruit] = useState(fruits[0]);

        return (
          <div>
            <h1>Selected Fruit: {selectedFruit}</h1>
            <DropdownInput
              items={fruits}
              value={selectedFruit}
              onChange={setSelectedFruit}
              renderItem={(fruit) => <span>{fruit}</span>}
              renderValue={(fruit) => <span>{fruit}</span>}
              className="p-2 border rounded"
            />
          </div>
        );
      }

      ReactDOM.render(<TestDropdownInput />, document.getElementById("root"));
    </script>
  </body>
</html>
